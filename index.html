<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>天生我材必有用 - 这是一只蠢材</title><meta name="author" content="张啸天"><meta name="copyright" content="张啸天"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="随便记录记录">
<meta property="og:type" content="website">
<meta property="og:title" content="天生我材必有用">
<meta property="og:url" content="http://zxt19990208.github.io/index.html">
<meta property="og:site_name" content="天生我材必有用">
<meta property="og:description" content="随便记录记录">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://pic2.zhimg.com/80/v2-355100c8364b9c0a2ee99c2db453096e_1440w.jpg?source=1940ef5c">
<meta property="article:author" content="张啸天">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://pic2.zhimg.com/80/v2-355100c8364b9c0a2ee99c2db453096e_1440w.jpg?source=1940ef5c"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://zxt19990208.github.io/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '天生我材必有用',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2022-04-18 11:46:47'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/zyoushuo/Blog@latest/hexo/css/loading_style_1.css" ><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/zyoushuo/Blog@latest/hexo/css/loading_style_2.css" ><meta name="generator" content="Hexo 6.0.0"></head><body>
<div id='loader'>
    
    <div class="loading-left-bg"></div>
    <div class="loading-right-bg"></div>
    <div class="spinner-box">
        <div class="configure-border-1">
            <div class="configure-core"></div>
        </div>
        <div class="configure-border-2">
            <div class="configure-core"></div>
        </div>
        <div class="loading-word">加载中...</div>
    </div>
    
</div>
    
<script>
    var endLoading = function () {
    document.body.style.overflow = 'auto';
    document.getElementById('loader').classList.add("loading");
    }
    window.addEventListener('load',endLoading);
</script>
<div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://pic2.zhimg.com/80/v2-355100c8364b9c0a2ee99c2db453096e_1440w.jpg?source=1940ef5c" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data is-center"><div class="data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">25</div></a></div><div class="data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">11</div></a></div><div class="data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background: linear-gradient(20deg, #0062be, #925696, #cc426e, #fb0347)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">天生我材必有用</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">天生我材必有用</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="https://github.com/zxt19990208" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:220200794@seu.edu.cn" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2021/10/01/%E7%AC%AC%E4%B8%80%E7%AF%87%E6%96%87%E7%AB%A0/" title="第一篇文章"><img class="post_bg" src="/./img/java.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="第一篇文章"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/10/01/%E7%AC%AC%E4%B8%80%E7%AF%87%E6%96%87%E7%AB%A0/" title="第一篇文章">第一篇文章</a><div class="article-meta-wrap"><span class="article-meta"><i class="fas fa-thumbtack sticky"></i><span class="sticky">置顶</span><span class="article-meta-separator">|</span></span><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-09-30T16:15:04.000Z" title="发表于 2021-10-01 00:15:04">2021-10-01</time></span></div><div class="content">随便写点</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/04/18/%E5%AE%9E%E4%BE%8B%EF%BC%9A%E4%BD%BF%E7%94%A8%20Mockito%20%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%20mock%20%E5%AF%B9%E8%B1%A1/" title="实例：使用Mockito创建一个mock对象"><img class="post_bg" src="/./img/ut.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="实例：使用Mockito创建一个mock对象"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/04/18/%E5%AE%9E%E4%BE%8B%EF%BC%9A%E4%BD%BF%E7%94%A8%20Mockito%20%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%20mock%20%E5%AF%B9%E8%B1%A1/" title="实例：使用Mockito创建一个mock对象">实例：使用Mockito创建一个mock对象</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-04-18T02:28:00.000Z" title="发表于 2022-04-18 10:28:00">2022-04-18</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Java/">Java</a></span></div><div class="content">实例：使用 Mockito 创建一个 mock 对象目标创建一个 Api，它可以被 Mockito 来模拟并做一些工作
创建一个 Twitter API 的例子实现 TwitterClient类，它内部使用到了 ITweet 的实现。但是ITweet实例很难得到，譬如说他需要启动一个很复杂的服务来得到。
1234567891011121314public interface ITweet &#123;        String getMessage();&#125;public class TwitterClient &#123;        public void sendTweet(ITweet tweet) &#123;                String message = tweet.getMessage();                // send the message to Twitter        &#125;&#125;

模拟 ITweet 的实例为了能够不启动复杂的服务来得到 ITweet，我们可以使用 Mockito 来模拟得到该实例。
 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/04/18/%E4%BD%BF%E7%94%A8Mockito%E8%BF%9B%E8%A1%8CUT/" title="使用Mockito进行UT"><img class="post_bg" src="/./img/ut.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="使用Mockito进行UT"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/04/18/%E4%BD%BF%E7%94%A8Mockito%E8%BF%9B%E8%A1%8CUT/" title="使用Mockito进行UT">使用Mockito进行UT</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-04-18T02:18:00.000Z" title="发表于 2022-04-18 10:18:00">2022-04-18</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Java/">Java</a></span></div><div class="content">使用 mock 对象来进行测试单元测试的目标和挑战单元测试的思路是在不涉及依赖关系的情况下测试代码（隔离性），所以测试代码与其他类或者系统的关系应该尽量被消除。一个可行的消除方法是替换掉依赖类（测试替换），也就是说我们可以使用替身来替换掉真正的依赖对象。
测试类的分类
dummy object 做为参数传递给方法但是绝对不会被使用。譬如说，这种测试类内部的方法不会被调用，或者是用来填充某个方法的参数。
Fake 是真正接口或抽象类的实现体，但给对象内部实现很简单。譬如说，它存在内存中而不是真正的数据库中。（译者注：Fake 实现了真正的逻辑，但它的存在只是为了测试，而不适合于用在产品中。）
stub 类是依赖类的部分方法实现，而这些方法在你测试类和接口的时候会被用到，也就是说 stub 类在测试中会被实例化。stub 类会回应任何外部测试的调用。stub 类有时候还会记录调用的一些信息。
mock object 是指类或者接口的模拟实现，你可以自定义这个对象中某个方法的输出结果。

测试替代技术能够在测试中模拟测试类以外对象。因此你可以验证测试类是否响应正常。譬如说，你可以验证在 Mo ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/04/18/%E4%BB%8E0%E5%BC%80%E5%A7%8B%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/" title="从0开始单元测试"><img class="post_bg" src="/./img/ut.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="从0开始单元测试"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/04/18/%E4%BB%8E0%E5%BC%80%E5%A7%8B%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/" title="从0开始单元测试">从0开始单元测试</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-04-18T02:00:00.000Z" title="发表于 2022-04-18 10:00:00">2022-04-18</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Java/">Java</a></span></div><div class="content">关于单元测试的三个问题作为一个程序员，或多或少听说过单元测试，但很多小伙伴还没有在实际项目中用到。究其原因，可能是对单元测试有一些误解，比如：

写单元测试需要花费更多的时间，我每天写产品代码都要加班，哪来时间写测试；
写单元测试收益不大，还不是一样有bug；
写单元测试有负担，改产品代码的结构，还得去改测试代码。

先尝试解答这几个问题。
写单元测试会花费更多的时间，这点描述其实不准确。准确地说，写单元测试需要花费更多写代码的时间，这点没什么可说的，毕竟要多写一些测试代码。但一个程序员，做一个需求的时候，花在纯写代码的时间其实不多。你得理以前代码的逻辑，设计类和方法，然后才是写代码，写完了再手动测试，可能有bug还要去debug，再修复，再测试。真正写代码的时间，其实是很少的。使用单元测试虽然可能占用了更多写代码的时间，但它可以帮你缩短其它时间，会让你做这个需求花费的总时间更少。
写单元测试会有bug吗？当然可能有了，我们是无法做到真正的bug free的，但是单元测试写好了，可以显著减小bug的数量。因为写单元测试发现bug的成本是非常低的，它可以在开发阶段就发现bug，而且可以测 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/03/01/Elasticsearch%E7%9A%84%E5%B0%8Fcase/" title="ElasticSearch的小case"><img class="post_bg" src="https://kfocus.co.za/wp-content/uploads/2016/02/logo-elastic.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ElasticSearch的小case"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/03/01/Elasticsearch%E7%9A%84%E5%B0%8Fcase/" title="ElasticSearch的小case">ElasticSearch的小case</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-03-01T15:28:00.000Z" title="发表于 2022-03-01 23:28:00">2022-03-01</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/elasticsearch/">elasticsearch</a></span></div><div class="content">Official Case:尝试聚合我们可以用以下几页定义不同的聚合和它们的语法， 但学习聚合的最佳途径就是用实例来说明。 一旦我们获得了聚合的思想，以及如何合理地嵌套使用它们，那么语法就变得不那么重要了。
聚合的桶操作和度量的完整用法可以在 Elasticsearch 参考 中找到。本章中会涵盖其中很多内容，但在阅读完本章后查看它会有助于我们对它的整体能力有所了解。
所以让我们先看一个例子。我们将会创建一些对汽车经销商有用的聚合，数据是关于汽车交易的信息：车型、制造商、售价、何时被出售等。
首先我们批量索引一些数据：
1234567891011121314151617POST /cars/transactions/_bulk&#123; &quot;index&quot;: &#123;&#125;&#125;&#123; &quot;price&quot; : 10000, &quot;color&quot; : &quot;red&quot;, &quot;make&quot; : &quot;honda&quot;, &quot;sold&quot; : &quot;2014- ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/03/01/ElasticSearch%E5%9F%BA%E6%9C%AC%E8%AF%AD%E5%8F%A5/" title="ElasticSearch基本语句"><img class="post_bg" src="https://kfocus.co.za/wp-content/uploads/2016/02/logo-elastic.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ElasticSearch基本语句"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/03/01/ElasticSearch%E5%9F%BA%E6%9C%AC%E8%AF%AD%E5%8F%A5/" title="ElasticSearch基本语句">ElasticSearch基本语句</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-03-01T15:28:00.000Z" title="发表于 2022-03-01 23:28:00">2022-03-01</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/elasticsearch/">elasticsearch</a></span></div><div class="content">启动Linux 和 macOS启动方式:
12345# 切换到安装目录cd elasticsearch-7.5.1# 启动./bin/elasticsearch

启动后，访问http://localhost:9200/ ，如果可以正常访问，就说明安装成功了。
启动KibanaLinux 和 macOS启动方式:
12345# 切换到安装目录cd kibana-7.5.1-darwin-x86_64# 启动./bin/kibana

启动后，访问 http://localhost:5601，就可以进入kibana。
通过Kibana的Console调试Elasticsearch查询有没有问题，Console支持语法补全和语法提示非常方便。只要进入Kibana后台，点击左侧菜单的Dev Tools就可以进入Console后台。
查询基本语法结构123456789GET /&#123;索引名&#125;/_search&#123;  &quot;from&quot; : 0,  // 返回搜索结果的开始位置  &quot;size&quot; : 10, // 分页大小，一次返回多少数据  ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/03/01/%E6%B5%B7%E9%87%8F%E6%95%B0%E6%8D%AE/" title="海量数据"><img class="post_bg" src="/./img/java.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="海量数据"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/03/01/%E6%B5%B7%E9%87%8F%E6%95%B0%E6%8D%AE/" title="海量数据">海量数据</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-02-28T16:15:04.000Z" title="发表于 2022-03-01 00:15:04">2022-03-01</time></span></div><div class="content">海量数据</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/02/28/ElasticSearch%E7%9B%B8%E5%85%B3api%E4%BB%8B%E7%BB%8D/" title="ElasticSearch相关api介绍"><img class="post_bg" src="https://kfocus.co.za/wp-content/uploads/2016/02/logo-elastic.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ElasticSearch相关api介绍"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/02/28/ElasticSearch%E7%9B%B8%E5%85%B3api%E4%BB%8B%E7%BB%8D/" title="ElasticSearch相关api介绍">ElasticSearch相关api介绍</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-02-28T15:28:00.000Z" title="发表于 2022-02-28 23:28:00">2022-02-28</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/elasticsearch/">elasticsearch</a></span></div><div class="content">注：本文中的均为Elasticsearch的地址，例如本地环境为http://localhost:9200
集群查看集群健康度1GET &#123;&#123;domain&#125;&#125;/_cluster/health 

查看集群状态1&#123;&#123;domain&#125;&#125;/_cluster/state

索引 Index ES会索引所有字段，经过处理后写入一个倒排索引。查找数据的时候，直接查找该索引。所以，ES数据管理的顶层单位就叫做 Index（索引）。它是单个数据库的同义词。每个 Index （即数据库）的名字必须是小写。
查看所有索引1234GET _cat/indices?vhealth status index      uuid                   pri rep docs.count docs.deleted store.size pri.store.sizeyellow open   index_test OQnPg2LhRbyZ5b5FcFO4lw   3   1          0            0    ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/01/29/leetcode.76%20%E6%9C%80%E5%B0%8F%E8%A6%86%E7%9B%96%E5%AD%90%E4%B8%B2/" title="leetcode.76 最小覆盖子串"><img class="post_bg" src="/./img/leetcode.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="leetcode.76 最小覆盖子串"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/01/29/leetcode.76%20%E6%9C%80%E5%B0%8F%E8%A6%86%E7%9B%96%E5%AD%90%E4%B8%B2/" title="leetcode.76 最小覆盖子串">leetcode.76 最小覆盖子串</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-01-29T15:28:00.000Z" title="发表于 2022-01-29 23:28:00">2022-01-29</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/">数据结构与算法</a></span></div><div class="content">leetcode.76 最小覆盖子串给你一个字符串 s 、一个字符串 t 。返回 s 中涵盖 t 所有字符的最小子串。如果 s 中不存在涵盖 t 所有字符的子串，则返回空字符串 “” 。
注意：
对于 t 中重复字符，我们寻找的子字符串中该字符数量必须不少于 t 中该字符数量。
如果 s 中存在这样的子串，我们保证它是唯一的答案。

示例 1：输入：s = “ADOBECODEBANC”, t = “ABC”输出：”BANC”
示例 2：输入：s = “a”, t = “a”输出：”a”
示例 3:输入: s = “a”, t = “aa”输出: “”解释: t 中两个字符 ‘a’ 均应包含在 s 的子串中，因此没有符合条件的子字符串，返回空字符串。
提示：
1 &lt;= s.length, t.length &lt;= 105
s 和 t 由英文字母组成

进阶：你能设计一个在 o(n) 时间内解决此问题的算法吗？思路：滑动窗口法主要的思路是维护两张哈希表sMap，tMap用来记录字符串s、t中的字符，使用滑动窗口依次向sMap中添加字符，直到满足sMap和tMap相等为止，然后记 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2021/12/13/io/" title="IO模型详解"><img class="post_bg" src="/./img/java.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="IO模型详解"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/12/13/io/" title="IO模型详解">IO模型详解</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-12-13T15:28:00.000Z" title="发表于 2021-12-13 23:28:00">2021-12-13</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Java/">Java</a></span></div><div class="content">IO 模型这块确实挺难理解的，需要太多计算机底层知识。写这篇文章用了挺久，就非常希望能把我所知道的讲出来吧!希望朋友们能有收获！为了写这篇文章，还翻看了一下《UNIX 网络编程》这本书，太难了，我滴乖乖！心痛~
个人能力有限。如果文章有任何需要补充/完善/修改的地方，欢迎在评论区指出，共同进步！
前言I/O 一直是很多小伙伴难以理解的一个知识点，这篇文章我会将我所理解的 I/O 讲给你听，希望可以对你有所帮助。
I/O何为 I/O?I/O（Input/Outpu） 即输入／输出 。
我们先从计算机结构的角度来解读一下 I/O。
根据冯.诺依曼结构，计算机结构分为 5 大部分：运算器、控制器、存储器、输入设备、输出设备。

输入设备（比如键盘）和输出设备（比如显示器）都属于外部设备。网卡、硬盘这种既可以属于输入设备，也可以属于输出设备。
输入设备向计算机输入数据，输出设备接收计算机输出的数据。
从计算机结构的视角来看的话， I/O 描述了计算机系统与外部设备之间通信的过程。
我们再先从应用程序的角度来解读一下 I/O。
根据大学里学到的操作系统相关的知识：为了保证操作系统的稳定性和安全性 ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/#content-inner">2</a><a class="page-number" href="/page/3/#content-inner">3</a><a class="extend next" rel="next" href="/page/2/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://pic2.zhimg.com/80/v2-355100c8364b9c0a2ee99c2db453096e_1440w.jpg?source=1940ef5c" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">张啸天</div><div class="author-info__description">随便记录记录</div></div><div class="card-info-data is-center"><div class="card-info-data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">25</div></a></div><div class="card-info-data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">11</div></a></div><div class="card-info-data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/zxt19990208" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:220200794@seu.edu.cn" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/04/18/%E5%AE%9E%E4%BE%8B%EF%BC%9A%E4%BD%BF%E7%94%A8%20Mockito%20%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%20mock%20%E5%AF%B9%E8%B1%A1/" title="实例：使用Mockito创建一个mock对象"><img src="/./img/ut.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="实例：使用Mockito创建一个mock对象"/></a><div class="content"><a class="title" href="/2022/04/18/%E5%AE%9E%E4%BE%8B%EF%BC%9A%E4%BD%BF%E7%94%A8%20Mockito%20%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%20mock%20%E5%AF%B9%E8%B1%A1/" title="实例：使用Mockito创建一个mock对象">实例：使用Mockito创建一个mock对象</a><time datetime="2022-04-18T02:28:00.000Z" title="发表于 2022-04-18 10:28:00">2022-04-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/04/18/%E4%BD%BF%E7%94%A8Mockito%E8%BF%9B%E8%A1%8CUT/" title="使用Mockito进行UT"><img src="/./img/ut.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="使用Mockito进行UT"/></a><div class="content"><a class="title" href="/2022/04/18/%E4%BD%BF%E7%94%A8Mockito%E8%BF%9B%E8%A1%8CUT/" title="使用Mockito进行UT">使用Mockito进行UT</a><time datetime="2022-04-18T02:18:00.000Z" title="发表于 2022-04-18 10:18:00">2022-04-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/04/18/%E4%BB%8E0%E5%BC%80%E5%A7%8B%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/" title="从0开始单元测试"><img src="/./img/ut.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="从0开始单元测试"/></a><div class="content"><a class="title" href="/2022/04/18/%E4%BB%8E0%E5%BC%80%E5%A7%8B%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/" title="从0开始单元测试">从0开始单元测试</a><time datetime="2022-04-18T02:00:00.000Z" title="发表于 2022-04-18 10:00:00">2022-04-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/03/01/Elasticsearch%E7%9A%84%E5%B0%8Fcase/" title="ElasticSearch的小case"><img src="https://kfocus.co.za/wp-content/uploads/2016/02/logo-elastic.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ElasticSearch的小case"/></a><div class="content"><a class="title" href="/2022/03/01/Elasticsearch%E7%9A%84%E5%B0%8Fcase/" title="ElasticSearch的小case">ElasticSearch的小case</a><time datetime="2022-03-01T15:28:00.000Z" title="发表于 2022-03-01 23:28:00">2022-03-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/03/01/ElasticSearch%E5%9F%BA%E6%9C%AC%E8%AF%AD%E5%8F%A5/" title="ElasticSearch基本语句"><img src="https://kfocus.co.za/wp-content/uploads/2016/02/logo-elastic.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ElasticSearch基本语句"/></a><div class="content"><a class="title" href="/2022/03/01/ElasticSearch%E5%9F%BA%E6%9C%AC%E8%AF%AD%E5%8F%A5/" title="ElasticSearch基本语句">ElasticSearch基本语句</a><time datetime="2022-03-01T15:28:00.000Z" title="发表于 2022-03-01 23:28:00">2022-03-01</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Java/"><span class="card-category-list-name">Java</span><span class="card-category-list-count">11</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/SpringBoot/"><span class="card-category-list-name">SpringBoot</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/elasticsearch/"><span class="card-category-list-name">elasticsearch</span><span class="card-category-list-count">4</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/"><span class="card-category-list-name">数据结构与算法</span><span class="card-category-list-count">6</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/Java%E5%9F%BA%E7%A1%80/" style="font-size: 1.4em; color: #99a5b6">Java基础</a> <a href="/tags/UT/" style="font-size: 1.2em; color: #999da3">UT</a> <a href="/tags/elasticsearch/" style="font-size: 1.3em; color: #99a1ac">elasticsearch</a> <a href="/tags/%E5%8F%8C%E6%8C%87%E9%92%88/" style="font-size: 1.2em; color: #999da3">双指针</a> <a href="/tags/%E5%93%88%E5%B8%8C%E8%A1%A8/" style="font-size: 1.1em; color: #999">哈希表</a> <a href="/tags/%E5%9B%9E%E6%BA%AF/" style="font-size: 1.1em; color: #999">回溯</a> <a href="/tags/%E5%BC%80%E5%8F%91/" style="font-size: 1.1em; color: #999">开发</a> <a href="/tags/%E6%95%B0%E7%BB%84/" style="font-size: 1.1em; color: #999">数组</a> <a href="/tags/%E6%A1%86%E6%9E%B6/" style="font-size: 1.1em; color: #999">框架</a> <a href="/tags/%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3/" style="font-size: 1.1em; color: #999">滑动窗口</a> <a href="/tags/%E9%9D%A2%E8%AF%95/" style="font-size: 1.5em; color: #99a9bf">面试</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/04/"><span class="card-archive-list-date">四月 2022</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/03/"><span class="card-archive-list-date">三月 2022</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/02/"><span class="card-archive-list-date">二月 2022</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/01/"><span class="card-archive-list-date">一月 2022</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/12/"><span class="card-archive-list-date">十二月 2021</span><span class="card-archive-list-count">8</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/11/"><span class="card-archive-list-date">十一月 2021</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/10/"><span class="card-archive-list-date">十月 2021</span><span class="card-archive-list-count">7</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/05/"><span class="card-archive-list-date">五月 2021</span><span class="card-archive-list-count">1</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">25</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2022-04-18T03:46:47.733Z"></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By 张啸天</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>function subtitleType () {
  if (true) { 
    window.typed = new Typed("#subtitle", {
      strings: ["这是一只蠢材"],
      startDelay: 300,
      typeSpeed: 150,
      loop: false,
      backSpeed: 50
    })
  } else {
    document.getElementById("subtitle").innerHTML = '这是一只蠢材'
  }
}

if (true) {
  if (typeof Typed === 'function') {
    subtitleType()
  } else {
    getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js').then(subtitleType)
  }
} else {
  subtitleType()
}</script></div><script defer src="https://rmt.dogedoge.com/fetch/~/source/jsdelivr/gh/CodeByZach/pace/pace.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>